{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport '../assets/css/base.css';\nimport '../assets/css/style.css';\nimport dog from '../assets/img/dog.png';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      password: ''\n    };\n\n    _this.changeIpt = function (ev) {\n      _this.setState(_defineProperty({}, ev.target.name, ev.target.value));\n    };\n\n    _this.submit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios({\n                url: '/mock/login',\n                params: {\n                  username: _this.state.username,\n                  password: _this.state.password\n                }\n              });\n\n            case 2:\n              res = _context.sent;\n\n              // console.log(res)\n              if (res.data.error === 0) {\n                //写入local && 跳转user\n                localStorage.setItem('rc_user', JSON.stringify(res.data.page_data));\n\n                _this.props.history.push('/user');\n              } else {\n                alert('失败');\n              }\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wrap login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"log_banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: dog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"yhmm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, \"\\uE657\")), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.changeIpt,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"yhmm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"\\uE66B\")), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.changeIpt,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"wj\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"wjmm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\\uFF1F\")), React.createElement(\"div\", {\n        className: \"dl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"tjan\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\")), React.createElement(\"div\", {\n        className: \"qx\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"reg\",\n        className: \"tjan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/Users/pengbozhi/Desktop/react项目/src/pages/Login.js"],"names":["React","Component","dog","Link","axios","Login","state","username","password","changeIpt","ev","setState","target","name","value","submit","url","params","res","data","error","localStorage","setItem","JSON","stringify","page_data","props","history","push","alert"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport  '../assets/css/base.css'\nimport '../assets/css/style.css'\nimport dog from '../assets/img/dog.png'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios'\n\nexport default class Login extends Component {\n\tstate={\n    username:'',\n    password:'',\n\n  }\n  changeIpt = (ev) => {\n    this.setState({\n      [ev.target.name]:ev.target.value\n    })\n  }\n  submit = async () => {\n    let res = await axios({\n      url:'/mock/login',\n      params:{\n        username:this.state.username,\n        password:this.state.password\n      }\n    });\n\n    // console.log(res)\n    if (res.data.error===0){\n      //写入local && 跳转user\n      localStorage.setItem('rc_user',JSON.stringify(res.data.page_data))\n      this.props.history.push('/user')\n    } else {\n      alert('失败')\n    }\n  }\n  render() {\n    return (\n        <div className=\"wrap login\">\n    \t<div className=\"log_banner\"><img src={dog}/></div>\n    \t<form>\n    \t\t<div className=\"yhmm\">\n    \t\t\t<label><i>&#xe657;</i></label><input type=\"text\" name=\"username\" value={this.state.username} onChange={this.changeIpt} placeholder=\"请输入手机号\"/> \n    \t\t</div>\n    \t\t<div className=\"yhmm\">\n    \t\t\t<label><i>&#xe66b;</i></label><input type=\"text\" name=\"password\" value={this.state.password} onChange={this.changeIpt} placeholder=\"请输入密码\"/> \n    \t\t</div>\n    \t\t<div className=\"wj\">\n    \t\t\t<a className=\"wjmm\" >忘记密码？</a>\n    \t\t</div>\n    \t\t<div className=\"dl\">\n    \t\t\t<a className=\"tjan\" onClick={this.submit}>登录</a>\n    \t\t</div>\n    \t\t<div className=\"qx\">\n    \t\t\t<Link to='reg' className=\"tjan\" >注册</Link>\n    \t\t</div>\n    \t</form>\n    </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}