{"ast":null,"code":"import _regeneratorRuntime from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pengbozhi/Desktop/react\\u9879\\u76EE/src/pages/Login.js\";\nimport React, { Component } from 'react';\nimport '../assets/css/base.css';\nimport '../assets/css/style.css';\nimport dog from '../assets/img/dog.png';\nimport { Link } from 'react-router-dom';\nimport connect from \"react-redux/es/connect/connect\";\nimport { action2 } from \"../store/actions\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      username: '',\n      password: ''\n    };\n\n    _this.changeIpt = function (ev) {\n      _this.setState(_defineProperty({}, ev.target.name, ev.target.value));\n    };\n\n    _this.submit =\n    /*#__PURE__*/\n    _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this.props.get({\n                url: '/mock/login',\n                params: {\n                  username: _this.state.username,\n                  password: _this.state.password\n                },\n                typename: 'UPDATE_USER'\n              }).then(function (error) {\n                console.log(error);\n\n                if (error === 0) {\n                  localStorage.setItem('rc_user', JSON.stringify(_this.props.user));\n\n                  _this.props.history.push('/user');\n                } else {\n                  alert('error');\n                }\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"wrap login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"log_banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: dog,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      })), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"yhmm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"\\uE657\")), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.changeIpt,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u624B\\u673A\\u53F7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"yhmm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, \"\\uE66B\")), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.changeIpt,\n        placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"wj\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"wjmm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801\\uFF1F\")), React.createElement(\"div\", {\n        className: \"dl\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"a\", {\n        className: \"tjan\",\n        onClick: this.submit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, \"\\u767B\\u5F55\")), React.createElement(\"div\", {\n        className: \"qx\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Link, {\n        to: \"reg\",\n        className: \"tjan\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, \"\\u6CE8\\u518C\"))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar initMapStateToProps = function initMapStateToProps(state) {\n  return {\n    user: state.user\n  };\n};\n\nvar initMapDispatchToProps = function initMapDispatchToProps(dispatch) {\n  return {\n    get: function get(_ref2) {\n      var url = _ref2.url,\n          params = _ref2.params,\n          typename = _ref2.typename;\n      return dispatch(action2({\n        url: url,\n        params: params,\n        typename: typename\n      }));\n    }\n  };\n};\n\nexport default connect(initMapStateToProps, initMapDispatchToProps)(Login);","map":{"version":3,"sources":["/Users/pengbozhi/Desktop/react项目/src/pages/Login.js"],"names":["React","Component","dog","Link","connect","action2","Login","state","username","password","changeIpt","ev","setState","target","name","value","submit","props","get","url","params","typename","then","error","console","log","localStorage","setItem","JSON","stringify","user","history","push","alert","initMapStateToProps","initMapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport  '../assets/css/base.css'\nimport '../assets/css/style.css'\nimport dog from '../assets/img/dog.png'\nimport {Link} from 'react-router-dom'\nimport connect from \"react-redux/es/connect/connect\";\nimport  {action2} from \"../store/actions\";\n\n\nclass Login extends Component {\n\tstate={\n    username:'',\n    password:'',\n\n  }\n  changeIpt = (ev) => {\n    this.setState({\n      [ev.target.name]:ev.target.value\n    })\n  }\n\n  submit = async () => {\n    this.props.get({\n      url:'/mock/login',\n      params: {\n        username:this.state.username,\n        password:this.state.password\n      },\n      typename:'UPDATE_USER'\n    }).then(\n      error => {\n        console.log(error);\n        if (error === 0){\n          localStorage.setItem('rc_user',JSON.stringify(this.props.user))\n          this.props.history.push('/user')\n        } else {\n          alert('error')\n        }\n      }\n    )\n\n\n  }\n  render() {\n    return (\n        <div className=\"wrap login\">\n    \t<div className=\"log_banner\"><img src={dog}/></div>\n    \t<form>\n    \t\t<div className=\"yhmm\">\n    \t\t\t<label><i>&#xe657;</i></label><input type=\"text\" name=\"username\" value={this.state.username} onChange={this.changeIpt} placeholder=\"请输入手机号\"/> \n    \t\t</div>\n    \t\t<div className=\"yhmm\">\n    \t\t\t<label><i>&#xe66b;</i></label><input type=\"text\" name=\"password\" value={this.state.password} onChange={this.changeIpt} placeholder=\"请输入密码\"/> \n    \t\t</div>\n    \t\t<div className=\"wj\">\n    \t\t\t<a className=\"wjmm\" >忘记密码？</a>\n    \t\t</div>\n    \t\t<div className=\"dl\">\n    \t\t\t<a className=\"tjan\" onClick={this.submit}>登录</a>\n    \t\t</div>\n    \t\t<div className=\"qx\">\n    \t\t\t<Link to='reg' className=\"tjan\" >注册</Link>\n    \t\t</div>\n    \t</form>\n    </div>\n    )\n  }\n}\n\nconst initMapStateToProps=state=>({\n  user: state.user\n});\n\nconst initMapDispatchToProps=dispatch=>({\n  get:({url,params,typename})=>dispatch(action2({\n    url,params,typename\n  }))\n});\n\nexport default connect(\n  initMapStateToProps,\n  initMapDispatchToProps\n)(Login)\n"]},"metadata":{},"sourceType":"module"}